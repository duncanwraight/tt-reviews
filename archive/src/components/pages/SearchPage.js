import { jsx as _jsx, jsxs as _jsxs } from "hono/jsx/jsx-runtime";
import { Layout } from '../Layout';
import { Breadcrumb, generateBreadcrumbs } from '../ui/Breadcrumb';
import { RatingStars } from '../ui/RatingStars';
export function SearchPage({ query = '', results, filters }) {
    const breadcrumbs = generateBreadcrumbs('/search');
    const hasResults = results && (results.equipment.length > 0 || results.players.length > 0);
    const totalResults = results ? results.equipment.length + results.players.length : 0;
    return (_jsxs(Layout, { title: query ? `Search Results for "${query}"` : 'Search Table Tennis Equipment & Players', description: query
            ? `Find table tennis equipment and players matching "${query}". Browse reviews, specs, and professional setups.`
            : 'Search our comprehensive database of table tennis equipment reviews and professional player setups.', children: [_jsx(Breadcrumb, { items: breadcrumbs }), _jsx(SearchHeader, { query: query, totalResults: totalResults }), hasResults ? (_jsx(SearchResults, { results: results })) : query ? (_jsx(NoResults, { query: query })) : (_jsx(SearchLanding, {}))] }));
}
function SearchHeader({ query, totalResults }) {
    return (_jsx("section", { class: "search-header bg-white border-b border-gray-200 py-6", children: _jsx("div", { class: "main-container", children: _jsxs("div", { class: "max-w-2xl mx-auto", children: [_jsxs("div", { class: "search-input-container relative", children: [_jsx("input", { type: "text", class: "search-input w-full py-3 px-4 text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent", placeholder: "Search equipment, players, or reviews...", value: query, id: "main-search" }), _jsx("button", { class: "search-button absolute right-2 top-1/2 transform -translate-y-1/2 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors", children: "Search" })] }), query && (_jsx("div", { class: "search-meta mt-4 text-sm text-gray-600", children: totalResults > 0 ? (_jsxs("span", { children: ["Found ", totalResults, " result", totalResults !== 1 ? 's' : '', " for \"", query, "\""] })) : (_jsxs("span", { children: ["No results found for \"", query, "\""] })) }))] }) }) }));
}
function SearchResults({ results }) {
    return (_jsx("section", { class: "search-results py-8", children: _jsx("div", { class: "main-container", children: _jsxs("div", { class: "grid grid-cols-1 lg:grid-cols-4 gap-8", children: [_jsx(SearchFilters, {}), _jsxs("div", { class: "results-content lg:col-span-3 space-y-8", children: [results.equipment.length > 0 && (_jsx(ResultsSection, { title: "Equipment", items: results.equipment, type: "equipment", icon: "\uD83C\uDFD3" })), results.players.length > 0 && (_jsx(ResultsSection, { title: "Players", items: results.players, type: "players", icon: "\uD83D\uDC64" }))] })] }) }) }));
}
function SearchFilters() {
    return (_jsxs("div", { class: "search-filters bg-white rounded-lg p-6 border border-gray-200 h-fit sticky top-24", children: [_jsx("h3", { class: "text-lg font-semibold text-gray-900 mb-4", children: "Filters" }), _jsxs("div", { class: "filter-group mb-6", children: [_jsx("h4", { class: "font-medium text-gray-700 mb-2", children: "Type" }), _jsxs("div", { class: "space-y-2", children: [_jsxs("label", { class: "flex items-center", children: [_jsx("input", { type: "checkbox", class: "rounded border-gray-300 text-purple-600 focus:ring-purple-500", checked: true }), _jsx("span", { class: "ml-2 text-sm text-gray-700", children: "Equipment" })] }), _jsxs("label", { class: "flex items-center", children: [_jsx("input", { type: "checkbox", class: "rounded border-gray-300 text-purple-600 focus:ring-purple-500", checked: true }), _jsx("span", { class: "ml-2 text-sm text-gray-700", children: "Players" })] })] })] }), _jsxs("div", { class: "filter-group mb-6", children: [_jsx("h4", { class: "font-medium text-gray-700 mb-2", children: "Category" }), _jsxs("select", { class: "w-full p-2 border border-gray-300 rounded-md text-sm", children: [_jsx("option", { children: "All Categories" }), _jsx("option", { children: "Blades" }), _jsx("option", { children: "Rubbers" }), _jsx("option", { children: "Balls" })] })] }), _jsxs("div", { class: "filter-group mb-6", children: [_jsx("h4", { class: "font-medium text-gray-700 mb-2", children: "Rating" }), _jsxs("select", { class: "w-full p-2 border border-gray-300 rounded-md text-sm", children: [_jsx("option", { children: "Any Rating" }), _jsx("option", { children: "4+ Stars" }), _jsx("option", { children: "3+ Stars" }), _jsx("option", { children: "2+ Stars" })] })] }), _jsxs("div", { class: "filter-group", children: [_jsx("h4", { class: "font-medium text-gray-700 mb-2", children: "Sort By" }), _jsxs("select", { class: "w-full p-2 border border-gray-300 rounded-md text-sm", children: [_jsx("option", { children: "Relevance" }), _jsx("option", { children: "Highest Rated" }), _jsx("option", { children: "Most Reviews" }), _jsx("option", { children: "Name A-Z" })] })] })] }));
}
function ResultsSection({ title, items, type, icon, }) {
    return (_jsxs("div", { class: "results-section", children: [_jsxs("div", { class: "section-header flex items-center gap-3 mb-6", children: [_jsx("span", { class: "text-2xl", children: icon }), _jsx("h2", { class: "text-2xl font-semibold text-gray-900", children: title }), _jsxs("span", { class: "text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full", children: [items.length, " result", items.length !== 1 ? 's' : ''] })] }), _jsx("div", { class: "results-grid grid grid-cols-1 md:grid-cols-2 gap-6", children: items.map(item => (_jsx(ResultCard, { item: item, type: type }, item.id || item.slug))) })] }));
}
function ResultCard({ item, type }) {
    const href = `/${type}/${item.slug}`;
    if (type === 'equipment') {
        return (_jsx("div", { class: "result-card bg-white rounded-lg p-6 border border-gray-200 hover:shadow-md transition-all duration-200 cursor-pointer", onclick: `navigate('${href}'); return false;`, children: _jsxs("div", { class: "flex items-start gap-4", children: [_jsx("div", { class: "item-icon text-3xl text-gray-400", children: "\uD83C\uDFD3" }), _jsxs("div", { class: "item-content flex-1", children: [_jsx("h3", { class: "text-lg font-semibold text-gray-900 mb-1", children: item.name }), _jsxs("p", { class: "text-sm text-gray-600 mb-2", children: [item.manufacturer, " \u2022 ", item.category] }), item.rating && _jsx(RatingStars, { rating: item.rating, size: "small" }), _jsx("p", { class: "text-sm text-gray-700 mt-2 line-clamp-2", children: "High-performance equipment with excellent reviews from the community." })] })] }) }));
    }
    return (_jsx("div", { class: "result-card bg-white rounded-lg p-6 border border-gray-200 hover:shadow-md transition-all duration-200 cursor-pointer", onclick: `navigate('${href}'); return false;`, children: _jsxs("div", { class: "flex items-start gap-4", children: [_jsx("div", { class: "item-icon text-3xl text-gray-400", children: "\uD83D\uDC64" }), _jsxs("div", { class: "item-content flex-1", children: [_jsx("h3", { class: "text-lg font-semibold text-gray-900 mb-1", children: item.name }), _jsxs("div", { class: "space-y-1 text-sm text-gray-600", children: [item.highest_rating && (_jsxs("p", { children: [_jsx("span", { class: "font-medium", children: "Highest Rating:" }), " ", item.highest_rating] })), item.active_years && (_jsxs("p", { children: [_jsx("span", { class: "font-medium", children: "Active:" }), " ", item.active_years] })), _jsx("p", { class: "text-gray-700 mt-2", children: "Professional player with detailed equipment setup history and specifications." })] })] })] }) }));
}
function NoResults({ query }) {
    return (_jsx("section", { class: "no-results py-16", children: _jsxs("div", { class: "main-container text-center", children: [_jsx("div", { class: "text-6xl text-gray-300 mb-6", children: "\uD83D\uDD0D" }), _jsx("h2", { class: "text-2xl font-semibold text-gray-900 mb-4", children: "No results found" }), _jsxs("p", { class: "text-gray-600 mb-8 max-w-md mx-auto", children: ["We couldn't find anything matching \"", query, "\". Try adjusting your search terms or browse our categories below."] }), _jsxs("div", { class: "suggested-searches", children: [_jsx("h3", { class: "text-lg font-medium text-gray-900 mb-4", children: "Popular searches:" }), _jsx("div", { class: "flex flex-wrap justify-center gap-3", children: ['Butterfly Tenergy', 'Long Pips', 'Ma Long', 'Stiga Clipper', 'TSP Curl'].map(suggestion => (_jsx("button", { class: "suggestion-tag bg-gray-100 hover:bg-purple-100 text-gray-700 hover:text-purple-700 px-4 py-2 rounded-full text-sm transition-colors", onclick: `document.getElementById('main-search').value = '${suggestion}'; document.querySelector('.search-button').click();`, children: suggestion }, suggestion))) })] })] }) }));
}
function SearchLanding() {
    return (_jsx("section", { class: "search-landing py-16", children: _jsxs("div", { class: "main-container", children: [_jsxs("div", { class: "text-center mb-12", children: [_jsx("h2", { class: "text-3xl font-semibold text-gray-900 mb-4", children: "Discover Table Tennis Equipment" }), _jsx("p", { class: "text-lg text-gray-600 max-w-2xl mx-auto", children: "Search our comprehensive database of equipment reviews and professional player setups. Find the perfect gear for your playing style." })] }), _jsx("div", { class: "popular-categories grid grid-cols-2 md:grid-cols-4 gap-6 mb-12", children: [
                        { name: 'Blades', icon: '🏓', href: '/equipment/blades' },
                        { name: 'Rubbers', icon: '🔴', href: '/equipment/rubbers' },
                        { name: 'Long Pips', icon: '🎯', href: '/equipment/long-pips' },
                        { name: 'Players', icon: '👤', href: '/players' },
                    ].map(category => (_jsxs("div", { class: "category-quick-link bg-white rounded-lg p-6 text-center border border-gray-200 hover:shadow-md hover:border-purple-300 transition-all duration-200 cursor-pointer", onclick: `navigate('${category.href}'); return false;`, children: [_jsx("div", { class: "text-3xl mb-2", children: category.icon }), _jsx("h3", { class: "font-semibold text-gray-900", children: category.name })] }, category.name))) }), _jsxs("div", { class: "popular-searches text-center", children: [_jsx("h3", { class: "text-lg font-medium text-gray-900 mb-4", children: "Popular searches:" }), _jsx("div", { class: "flex flex-wrap justify-center gap-3", children: [
                                'Butterfly Tenergy 64',
                                'TSP Curl P1-R',
                                'Ma Long equipment',
                                'Stiga Clipper',
                                'Best long pips',
                                'Joo Saehyuk setup',
                            ].map(search => (_jsx("button", { class: "popular-search bg-purple-50 hover:bg-purple-100 text-purple-700 px-4 py-2 rounded-full text-sm transition-colors", onclick: `document.getElementById('main-search').value = '${search}'; document.querySelector('.search-button').click();`, children: search }, search))) })] })] }) }));
}
