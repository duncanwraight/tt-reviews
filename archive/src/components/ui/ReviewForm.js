import { jsx as _jsx, jsxs as _jsxs } from "hono/jsx/jsx-runtime";
const categoryLabels = {
    spin: 'Spin Generation',
    speed: 'Speed',
    control: 'Control',
    spin_sensitivity: 'Spin Sensitivity',
    reversal: 'Spin Reversal',
    dwell: 'Dwell Time',
    feel: 'Feel & Sound',
    quality: 'Build Quality',
};
const rubberCategories = ['spin', 'speed', 'control', 'spin_sensitivity', 'feel'];
const antiCategories = ['speed', 'control', 'spin_sensitivity', 'reversal'];
const bladeCategories = ['speed', 'control', 'dwell', 'feel', 'quality'];
export const ReviewForm = ({ equipment, isEditing = false, existingReview, }) => {
    const getRelevantCategories = () => {
        if (equipment.category === 'blade') {
            return bladeCategories;
        }
        else if (equipment.subcategory === 'anti') {
            return antiCategories;
        }
        else {
            return rubberCategories;
        }
    };
    const categories = getRelevantCategories();
    const formTitle = isEditing
        ? `Edit Review for ${equipment.name}`
        : `Write a Review for ${equipment.name}`;
    const submitText = isEditing ? 'Update Review' : 'Submit Review';
    return (_jsxs("div", { class: "bg-white rounded-lg shadow-md p-6", children: [_jsx("h3", { class: "text-xl font-semibold text-gray-900 mb-4", children: formTitle }), _jsxs("form", { method: "post", action: isEditing ? `/api/reviews/${existingReview?.id}/update` : `/api/reviews/submit`, class: "space-y-6", children: [_jsx("input", { type: "hidden", name: "equipment_id", value: equipment.id }), _jsxs("div", { class: "form-group", children: [_jsx("label", { class: "block text-sm font-medium text-gray-700 mb-2", children: "Overall Rating (1-10) *" }), _jsx("input", { type: "number", name: "overall_rating", min: "1", max: "10", step: "0.5", value: existingReview?.overall_rating || 5, required: true, class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" }), _jsx("p", { class: "text-xs text-gray-500 mt-1", children: "Rate from 1 (poor) to 10 (excellent)" })] }), _jsxs("div", { class: "form-group", children: [_jsx("h4", { class: "text-lg font-medium text-gray-900 mb-3", children: "Category Ratings (1-10)" }), _jsx("div", { class: "grid grid-cols-1 md:grid-cols-2 gap-4", children: categories.map(category => (_jsxs("div", { class: "form-group", children: [_jsx("label", { class: "block text-sm font-medium text-gray-700 mb-1", children: categoryLabels[category] }), _jsx("input", { type: "number", name: `category_rating_${category}`, min: "1", max: "10", step: "0.5", value: existingReview?.category_ratings[category] || 5, class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" })] }, category))) })] }), _jsxs("div", { class: "form-group", children: [_jsx("label", { class: "block text-sm font-medium text-gray-700 mb-2", children: "Your Review *" }), _jsx("textarea", { name: "review_text", rows: 4, required: true, value: existingReview?.review_text || '', class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent", placeholder: "Share your experience with this equipment..." })] }), _jsxs("div", { class: "form-group", children: [_jsx("h4", { class: "text-lg font-medium text-gray-900 mb-3", children: "About You & Your Testing" }), _jsxs("div", { class: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [_jsxs("div", { children: [_jsx("label", { class: "block text-sm font-medium text-gray-700 mb-1", children: "Playing Level" }), _jsx("input", { type: "text", name: "playing_level", value: existingReview?.reviewer_context.playing_level || '', class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent", placeholder: "e.g., 2000 USATT, 1800 TTR" })] }), _jsxs("div", { children: [_jsx("label", { class: "block text-sm font-medium text-gray-700 mb-1", children: "Style of Play" }), _jsx("input", { type: "text", name: "style_of_play", value: existingReview?.reviewer_context.style_of_play || '', class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent", placeholder: "e.g., Offensive looper, All-round" })] }), _jsxs("div", { children: [_jsx("label", { class: "block text-sm font-medium text-gray-700 mb-1", children: "Testing Duration" }), _jsx("input", { type: "text", name: "testing_duration", value: existingReview?.reviewer_context.testing_duration || '', class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent", placeholder: "e.g., 3 months, 6 weeks" })] }), _jsxs("div", { children: [_jsx("label", { class: "block text-sm font-medium text-gray-700 mb-1", children: "Testing Frequency" }), _jsx("input", { type: "text", name: "testing_quantity", value: existingReview?.reviewer_context.testing_quantity || '', class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent", placeholder: "e.g., 5+ hours per week" })] }), _jsxs("div", { children: [_jsx("label", { class: "block text-sm font-medium text-gray-700 mb-1", children: "Other Equipment Used" }), _jsx("input", { type: "text", name: "other_equipment", value: existingReview?.reviewer_context.other_equipment || '', class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent", placeholder: "e.g., Butterfly Timo Boll ALC blade" })] }), _jsxs("div", { children: [_jsx("label", { class: "block text-sm font-medium text-gray-700 mb-1", children: "Purchase Info" }), _jsx("input", { type: "text", name: "purchase_price", value: existingReview?.reviewer_context.purchase_price || '', class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent", placeholder: "e.g., Paddle Palace, $65" })] })] })] }), _jsxs("div", { class: "flex justify-end space-x-3 pt-4 border-t border-gray-200", children: [_jsx("button", { type: "button", class: "px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500", children: "Cancel" }), _jsx("button", { type: "submit", class: "px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500", children: submitText })] })] }), _jsx("div", { class: "mt-4 text-sm text-gray-600", children: _jsx("p", { children: "Your review will be submitted for moderation and will appear publicly once approved." }) })] }));
};
